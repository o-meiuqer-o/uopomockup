<!-- Only the detection preview section and JS are different; branding/UI is unchanged! -->
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ... all your previous UOPO head and style ... -->
</head>
<body>
    <nav>
        <div class="logo">ğŸŒ¾ UOPO</div>
        <div>
            <a href="dashboard.html">Dashboard</a>
            <a href="log-meal.html">Rescan</a>
            <a href="index.html">Home</a>
        </div>
    </nav>
    <div class="container">
        <div class="result-header">
            <h1 id="food-name">Food Name</h1>
            <div class="category" id="food-category">Category</div>
            <div class="detection-confidence">âœ“ Detection Confidence: 94%</div>
        </div>
        <div class="card">
            <div class="success-message" id="success-message">
                âœ“ Meal logged successfully! ğŸ‰
            </div>
            <h2>Detection Preview</h2>
            <div class="detection-preview">
                <!-- JS will load a real meal photo if present -->
                <div class="preview-box">ğŸ“¸</div>
                <div class="preview-label">Bounding Box Detected</div>
            </div>
            <div class="portion-selector">
                <label for="portion">Portion Size</label>
                <input type="text" id="portion" placeholder="e.g., 250g or 1 bowl" value="">
            </div>
            <div class="meal-time-selector">
                <label for="meal-time">When did you eat this?</label>
                <select id="meal-time">
                    <option value="">Select Meal Time</option>
                    <option value="breakfast">ğŸŒ… Breakfast</option>
                    <option value="lunch">â˜€ï¸ Lunch</option>
                    <option value="dinner">ğŸŒ™ Dinner</option>
                    <option value="snack">ğŸ Snack</option>
                </select>
            </div>
        </div>
        <!-- ... rest of your UI (nutrition values/cards, editable fields, action buttons) ... -->
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Real meal photo preview
            const mealPhoto = sessionStorage.getItem('mealPhoto');
            if (mealPhoto) {
                document.querySelector('.detection-preview').innerHTML = `
                    <div><img src="${mealPhoto}" style="max-width:220px;box-shadow:0 6px 18px #c7ad83;border-radius:10px;"></div>
                    <div class="preview-label">Your meal photo</div>
                `;
            }
            // (your existing detectionResult/sessionStorage logic for nutrition goes here)
        });
        function logMeal() {
            const mealTime = document.getElementById('meal-time').value;
            if (!mealTime) {
                alert('Please select a meal time');
                return;
            }
            const successMsg = document.getElementById('success-message');
            successMsg.classList.add('show');
            event.target.disabled = true;
            setTimeout(() => {
                window.location.href = 'dashboard.html';
            }, 2000);
        }
    </script>
</body>
</html>
