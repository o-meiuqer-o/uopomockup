<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scan Result - UOPO</title>
<link rel="stylesheet" href="css/uopo-branding.css">
<style>
body { background: #FEF8F0; min-height: 100vh; }
nav { background: white; padding: 15px 24px; margin-bottom: 24px; border-radius: 8px; box-shadow: 0 2px 10px #e8dcc8; display: flex; justify-content: space-between; }
nav .logo { font-size: 24px; font-weight: bold; color: #D4A574; }
nav a { margin-left: 20px; text-decoration: none; color: #4A3F35; font-size: 15px;}
nav a:hover { color: #D4A574;}
.container { max-width: 480px; margin: 30px auto 0 auto; background: white; border-radius: 16px; box-shadow: 0 4px 32px rgba(139,111,71,0.10); padding: 32px 18px;}
.centered { text-align: center; }
.detection-preview img { max-width: 220px; margin: 8px auto; border-radius: 12px; box-shadow: 0 4px 15px #e8dcc8; display: block;}
.food-name { font-size: 24px; font-weight: 600; color: #4A3F35; margin-bottom:7px;}
.category, .confidence, .portion-label { color: #9B8B7E; font-size: 14px;}
.portion-selector, .meal-time-selector { margin: 14px 0 18px 0; }
input, select { width: 95%; padding: 11px; border: 1px solid #D4A574; border-radius: 6px; font-size: 15px; margin-top: 6px;}
input:focus, select:focus { border-color: #8B6F47; outline: none; }
.nutrition-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 17px; margin: 15px 0 10px 0;}
.nutrition-item { background: #FEF8F0; border-radius: 8px; padding: 12px; text-align: center; color: #8B6F47;}
.nutrition-label { font-size: 13px; color: #9B8B7E; }
.nutrition-value { font-weight: 700; font-size: 17px; }
.btn { background: linear-gradient(135deg, #D4A574 0%, #8B6F47 100%); color: white; border: none; border-radius: 8px; padding: 15px; width: 100%; font-size: 18px; font-weight: 600; cursor: pointer; margin-top: 17px;}
.btn:hover { background: #8B6F47; }
.msg { background: #e8f5e9; color: #2E7D32; border-radius: 8px; padding: 12px; text-align: center; margin-bottom: 15px; margin-top: 12px; display: none;}
@media (max-width:600px){.container{padding:14px 3vw;} .nutrition-grid{grid-template-columns:1fr;}}
</style>
</head>
<body><nav>     <span class="logo">üåæ UOPO</span>     <button class="hamburger" onclick="openMenu()">‚ò∞</button> </nav> <div class="menu-backdrop" onclick="closeMenu()" id="menuBackdrop"></div> <div class="menu-drawer" id="menuDrawer">     <a href="dashboard.html">üè† Dashboard</a>     <a href="log-meal.html">üçõ Log Meal</a>     <a href="detailed-meal-log.html">üìú Meal Log</a>     <a href="diet-tracker.html">üìä Diet Tracker</a>     <a href="family-profiles.html">üë™ Family</a>     <a href="add-family-member.html">‚ûï Add Member</a>     <a href="complete-profile.html">üë§ Profile Setup</a>     <a href="detailed-stats.html">üìà Detailed Stats</a>     <a href="plan-my-meal.html">üßë‚Äçüç≥ Plan My Meal</a>     <a href="index.html">üè° Home</a>     <a href="signin.html">üö™ Sign Out</a> </div>
<nav>
  <div class="logo">üåæ UOPO</div>
  <div>
    <a href="log-meal.html">Rescan</a>
    <a href="dashboard.html">Dashboard</a>
    <a href="index.html">Home</a>
  </div>
</nav>
<div class="container">
  <div class="centered">
    <div class="section detection-preview"></div>
    <div class="food-name" id="food-name"></div>
    <div class="category" id="food-category"></div>
    <div class="confidence" id="detect-confidence"></div>
  </div>
  <div class="portion-selector">
    <label class="portion-label" for="portion">Portion Size</label>
    <input type="text" id="portion" value="1 plate">
  </div>
  <div class="meal-time-selector">
    <label class="portion-label" for="meal-time">Meal Time</label>
    <select id="meal-time">
      <option value="">Select</option>
      <option value="breakfast">üåÖ Breakfast</option>
      <option value="lunch">‚òÄÔ∏è Lunch</option>
      <option value="dinner">üåô Dinner</option>
      <option value="snack">üçé Snack</option>
    </select>
  </div>
  <div class="nutrition-grid" id="nutrition-grid"></div>
  <div class="msg" id="success-msg">‚úì Meal logged! Redirecting to meal log‚Ä¶</div>
  <button class="btn" onclick="submitMeal()">Log This Meal</button>
</div>
<script>
const foodList = [
  {name: "Chicken Biryani", category: "Rice Dish", nutrition: {calories:450, protein:25, carbs:45, fat:18}},
  {name: "Idli with Sambar", category: "South Indian", nutrition: {calories:120, protein:4, carbs:22, fat:1}},
  {name: "Masala Dosa", category: "Breakfast", nutrition: {calories:180, protein:5, carbs:32, fat:7}},
  {name: "Dal Khichdi", category: "Meal", nutrition: {calories:210, protein:9, carbs:40, fat:2}},
  {name: "Rajma Chawal", category: "North Indian", nutrition: {calories:260, protein:10, carbs:52, fat:3}}
];
let thisFood = foodList[Math.floor(Math.random()*foodList.length)];
document.getElementById('food-name').innerText = thisFood.name;
document.getElementById('food-category').innerText = "Category: "+thisFood.category;
document.getElementById('detect-confidence').innerText = "Confidence: "+(92+Math.floor(Math.random()*7))+"%";
let ng = document.getElementById('nutrition-grid');
ng.innerHTML = `<div class="nutrition-item"><div class="nutrition-value">${thisFood.nutrition.calories}</div><div class="nutrition-label">Calories</div></div>
<div class="nutrition-item"><div class="nutrition-value">${thisFood.nutrition.protein}g</div><div class="nutrition-label">Protein</div></div>
<div class="nutrition-item"><div class="nutrition-value">${thisFood.nutrition.carbs}g</div><div class="nutrition-label">Carbs</div></div>
<div class="nutrition-item"><div class="nutrition-value">${thisFood.nutrition.fat}g</div><div class="nutrition-label">Fat</div></div>`;
const photo = sessionStorage.getItem('mealPhoto');
document.querySelector('.detection-preview').innerHTML = photo
  ? `<img src="${photo}"><div class="preview-label">Your meal photo</div>`
  : `<div style="font-size:43px;">üì∏</div><div class="preview-label">No photo this time</div>`;
function submitMeal() {
    const portion = document.getElementById('portion').value;
    const mealTime = document.getElementById('meal-time').value;
    if (!mealTime) { alert('Please select a meal time!'); return; }
    // Save to "recent meals" for log
    let meals = JSON.parse(localStorage.getItem('recentMeals') || '[]');
    meals.unshift({
        name: thisFood.name,
        category: thisFood.category,
        nutrition: thisFood.nutrition,
        time: mealTime,
        photo: photo,
        portion: portion,
        date: new Date().toLocaleString()
    });
    localStorage.setItem('recentMeals', JSON.stringify(meals.slice(0,8)));
    document.getElementById('success-msg').style.display='block';
    setTimeout(() => location.href='detailed-meal-log.html', 1200);
}
</script>
<script> function openMenu() {     document.getElementById("menuDrawer").classList.add("open");     document.getElementById("menuBackdrop").classList.add("show"); } function closeMenu() {     document.getElementById("menuDrawer").classList.remove("open");     document.getElementById("menuBackdrop").classList.remove("show"); } </script></body>
</html>
