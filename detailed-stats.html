<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detailed Nutrient Tracker - UOPO</title>
  <link rel="stylesheet" href="css/uopo-branding.css">
  <style>
    body { background: #FEF8F0; }
    .container { max-width: 740px; margin: 38px auto 0 auto; }
    h1 { margin-bottom:12px; color:#8B6F47; text-align:center;}
    .subtitle { color:#9B8B7E; text-align:center; margin-bottom:24px; }
    .nutrient-category { font-size:20px; color:#D4A574; margin:32px 0 17px 0; font-weight:700;}
    .nutrient-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px 15px;
    }
    .nutrient-card {
      background:#fff; border-radius:13px; box-shadow:0 2px 10px #e8dcc8;
      padding:18px 13px; text-align:center;
    }
    .nutrient-label { color:#8B6F47; font-weight:600; font-size:16px; margin-bottom:2px;}
    .nutrient-value { font-size:17px; font-weight:700; color:#3e792b;}
    .nutrient-unit { font-size:13px; color:#9B8B7E; margin-bottom:3px;}
    .nutrient-goal { color: #956f1a; font-size:12px; margin-top:5px;}
    .progress-pie {
      width:32px; height:32px; margin:0 auto 5px auto; display:block;
    }
    .progress-pie circle { fill: none; stroke-width:4px;}
    .progress-bg { stroke: #edeae4;}
    /* Default: Green */
    .progress-good { stroke: #29b251; }
    /* Orange/Warning */
    .progress-ok { stroke: #dd9308; }
    /* Red: below */
    .progress-bad { stroke: #ea4949; }
    @media(max-width:760px){.container{padding:0 2vw;} .nutrient-grid{grid-template-columns:repeat(2,1fr);} }
    @media(max-width:490px){.nutrient-grid{grid-template-columns:1fr;} }
    .btn { background:#D4A574; color:white; padding:13px 0; border-radius:8px;font-weight:600; font-size:14px;width:100%; border:none; margin-top:24px; cursor:pointer; }
    .btn:hover { background:#8B6F47;}
  </style>
</head>
<body>
<nav>
  <span class="logo">ğŸŒ¾ UOPO</span>
  <button class="hamburger" onclick="openMenu()">â˜°</button>
</nav>
<div class="menu-backdrop" onclick="closeMenu()" id="menuBackdrop"></div>
<div class="menu-drawer" id="menuDrawer">
  <a href="dashboard.html">ğŸ  Dashboard</a>
  <a href="log-meal.html">ğŸ› Log Meal</a>
  <a href="detailed-meal-log.html">ğŸ“œ Meal Log</a>
  <a href="diet-tracker.html">ğŸ“Š Diet Tracker</a>
  <a href="family-profiles.html">ğŸ‘ª Family</a>
  <a href="add-family-member.html">â• Add Member</a>
  <a href="complete-profile.html">ğŸ‘¤ Profile Setup</a>
  <a href="detailed-stats.html">ğŸ“ˆ Detailed Stats</a>
  <a href="plan-my-meal.html">ğŸ§‘â€ğŸ³ Plan My Meal</a>
  <a href="index.html">ğŸ¡ Home</a>
  <a href="signin.html">ğŸšª Sign Out</a>
</div>
<div class="container">
  <h1>Detailed Nutrient Tracker</h1>
  <p class="subtitle">Micronutrients and minerals intake, progress vs. RDA</p>

  <div class="nutrient-category">Vitamins</div>
  <div class="nutrient-grid" id="vitaminGrid"></div>

  <div class="nutrient-category">Minerals</div>
  <div class="nutrient-grid" id="mineralGrid"></div>

  <div class="nutrient-category">Other Trace Elements</div>
  <div class="nutrient-grid" id="otherGrid"></div>

  <button class="btn" onclick="window.location='diet-tracker.html'">â† Back to Diet Tracker</button>
</div>
<script>
function pieSVG(perc) {
  // Green: â‰¥90%, Orange: 70â€“89%, Red: <70%
  let colorClass = perc >= 90 ? "progress-good" : (perc >= 70 ? "progress-ok" : "progress-bad");
  const r = 12, cX = 16, cY = 16, total = Math.PI*2*r, pct = Math.min(perc,120)/100;
  const arc = pct * total;
  return `<svg class="progress-pie" viewBox="0 0 32 32">
    <circle class="progress-bg" cx="${cX}" cy="${cY}" r="${r}"/>
    <circle class="${colorClass}" cx="${cX}" cy="${cY}" r="${r}" stroke-dasharray="${arc},${total-arc}"/>
    </svg>`;
}
const vitamins = [
  { label:"A", value:700, unit:"Âµg", rda:700 }, { label:"C", value:82, unit:"mg", rda:90 },
  { label:"D", value:13, unit:"Âµg", rda:15 }, { label:"E", value:10.2, unit:"mg", rda:15 },
  { label:"K", value:80, unit:"Âµg", rda:120 }, { label:"B1", value:1.6, unit:"mg", rda:1.2 },
  { label:"B2", value:2.1, unit:"mg", rda:1.3 }, { label:"B3", value:16, unit:"mg", rda:16 },
  { label:"B6", value:2.3, unit:"mg", rda:1.7 }, { label:"B12", value:5.3, unit:"Âµg", rda:2.4 }, { label:"Folate", value:430, unit:"Âµg", rda:400 }
];
let vitaminGrid = document.getElementById("vitaminGrid");
vitamins.forEach(v=>{
  let pct = v.value/v.rda*100;
  vitaminGrid.innerHTML += `<div class="nutrient-card">${pieSVG(pct)}
    <div class="nutrient-label">Vitamin ${v.label}</div>
    <div class="nutrient-value">${v.value}</div>
    <div class="nutrient-unit">${v.unit}</div>
    <div class="nutrient-goal">Goal: ${v.rda} ${v.unit}</div>
  </div>`;
});
const minerals = [
  { label:"Calcium", value:1070, unit:"mg", rda:1000 }, { label:"Iron", value:13.8, unit:"mg", rda:18 },
  { label:"Magnesium", value:389, unit:"mg", rda:420 }, { label:"Phosphorus", value:1038, unit:"mg", rda:700 },
  { label:"Potassium", value:3200, unit:"mg", rda:3400 }, { label:"Zinc", value:8.4, unit:"mg", rda:11 },
  { label:"Copper", value:1.1, unit:"mg", rda:0.9 }, { label:"Selenium", value:77, unit:"Âµg", rda:55 },
  { label:"Iodine", value:121, unit:"Âµg", rda:150 }, { label:"Manganese", value:2.9, unit:"mg", rda:2.3 }
];
let mineralGrid = document.getElementById("mineralGrid");
minerals.forEach(m=>{
  let pct=m.value/m.rda*100;
  mineralGrid.innerHTML += `<div class="nutrient-card">${pieSVG(pct)}
    <div class="nutrient-label">${m.label}</div>
    <div class="nutrient-value">${m.value}</div>
    <div class="nutrient-unit">${m.unit}</div>
    <div class="nutrient-goal">Goal: ${m.rda} ${m.unit}</div>
  </div>`;
});
const otherElems = [
  { label:"Chromium", value:38, unit:"Âµg", rda:35 }, { label:"Fluoride", value:2.6, unit:"mg", rda:4 },
  { label:"Molybdenum", value:34, unit:"Âµg", rda:45 }
];
let otherGrid = document.getElementById("otherGrid");
otherElems.forEach(o=>{
  let pct=o.value/o.rda*100;
  otherGrid.innerHTML += `<div class="nutrient-card">${pieSVG(pct)}
    <div class="nutrient-label">${o.label}</div>
    <div class="nutrient-value">${o.value}</div>
    <div class="nutrient-unit">${o.unit}</div>
    <div class="nutrient-goal">Goal: ${o.rda} ${o.unit}</div>
  </div>`;
});
function openMenu() {document.getElementById("menuDrawer").classList.add("open");document.getElementById("menuBackdrop").classList.add("show");}
function closeMenu() {document.getElementById("menuDrawer").classList.remove("open");document.getElementById("menuBackdrop").classList.remove("show");}
</script>
</body>
</html>
