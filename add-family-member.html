<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Family Member - UOPO</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #FEF8F0; min-height: 100vh; padding: 20px; }
        nav { background: white; padding: 15px 30px; margin-bottom: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(139, 111, 71, 0.08); display: flex; justify-content: space-between; align-items: center; }
        nav .logo { font-size: 24px; font-weight: bold; color: #D4A574; }
        nav a { margin-left: 20px; text-decoration: none; color: #4A3F35; font-size: 14px; }
        nav a:hover { color: #D4A574; }
        .container { max-width: 900px; margin: 40px auto; }
        .page-header { background: linear-gradient(135deg, #D4A574 0%, #8B6F47 100%); color: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; text-align: center; }
        .page-header h1 { font-size: 32px; margin-bottom: 10px; }
        .profile-type-selector { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 40px; }
        .profile-type-card { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 2px 10px rgba(139, 111, 71, 0.08); text-align: center; cursor: pointer; transition: all 0.3s; border: 3px solid transparent; }
        .profile-type-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(139, 111, 71, 0.15); }
        .profile-type-card.selected { border-color: #D4A574; background: #FEF8F0; }
        .type-icon { font-size: 48px; margin-bottom: 15px; }
        .type-title { color: #4A3F35; font-size: 18px; font-weight: 600; margin-bottom: 10px; }
        .type-description { color: #9B8B7E; font-size: 13px; line-height: 1.5; }
        .form-section { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 2px 10px rgba(139, 111, 71, 0.08); margin-bottom: 30px; display: none; }
        .form-section.active { display: block; }
        .section-title { color: #4A3F35; font-size: 20px; font-weight: 600; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 2px solid #E8DCC8; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .form-row.full { grid-template-columns: 1fr; }
        .form-group { display: flex; flex-direction: column; }
        label { margin-bottom: 8px; color: #4A3F35; font-weight: 600; font-size: 14px; }
        input, select, textarea { padding: 12px; border: 1px solid #D4A574; border-radius: 6px; font-size: 14px; font-family: inherit; }
        input:focus, select:focus, textarea:focus { outline: none; border-color: #8B6F47; box-shadow: 0 0 0 3px rgba(212, 165, 116, 0.1); }
        .checkbox-group { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 15px; }
        .checkbox-item { display: flex; align-items: center; }
        .checkbox-item input[type="checkbox"] { width: 18px; height: 18px; margin-right: 10px; cursor: pointer; }
        .checkbox-item label { margin: 0; cursor: pointer; font-weight: normal; }
        .medical-section { background: #FEF8F0; padding: 20px; border-radius: 8px; border-left: 4px solid #D4A574; margin-bottom: 20px; }
        .medical-section h3 { color: #8B6F47; margin-bottom: 15px; font-size: 16px; }
        .form-navigation { display: flex; gap: 15px; justify-content: space-between; margin-top: 30px; }
        .btn { display: inline-block; padding: 12px 25px; background: #D4A574; color: white; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 14px; border: none; cursor: pointer; transition: background 0.3s; }
        .btn:hover { background: #8B6F47; }
        .btn-secondary { background: #9B8B7E; }
        .btn-secondary:hover { background: #6B5D52; }
        .btn-disabled { background: #D4C4B0; cursor: not-allowed; opacity: 0.6; }
        .step-indicator { display: flex; justify-content: center; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; }
        .step { width: 40px; height: 40px; border-radius: 50%; background: #E8DCC8; display: flex; align-items: center; justify-content: center; font-weight: 600; color: #9B8B7E; }
        .step.active { background: #D4A574; color: white; }
        .step.completed { background: #8B6F47; color: white; }
        @media (max-width: 768px) { .profile-type-selector { grid-template-columns: 1fr; } .form-row { grid-template-columns: 1fr; } .checkbox-group { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <nav>
        <div class="logo">üåæ UOPO</div>
        <div>
            <a href="dashboard.html">Dashboard</a>
            <a href="family-profiles.html">Family</a>
            <a href="index.html">Home</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="page-header">
            <h1>‚ûï Add Family Member</h1>
            <p>Create a new nutrition profile for your family</p>
        </div>
        
        <!-- Step 1: Profile Type Selection -->
        <div id="step-1" class="form-section active">
            <div class="section-title">Step 1: Choose Profile Type</div>
            <p style="color: #9B8B7E; margin-bottom: 25px;">Select who you're creating a profile for:</p>
            
            <div class="profile-type-selector">
                <div class="profile-type-card" onclick="selectProfileType('child', this)">
                    <div class="type-icon">üëß</div>
                    <div class="type-title">Child</div>
                    <div class="type-description">Create a profile for your child. Parents have full control until age 12.</div>
                </div>
                
                <div class="profile-type-card" onclick="selectProfileType('elderly', this)">
                    <div class="type-icon">üë¥</div>
                    <div class="type-title">Elderly Parent</div>
                    <div class="type-description">Create a profile for your elderly parent with health condition tracking.</div>
                </div>
                
                <div class="profile-type-card" onclick="selectProfileType('emergency', this)">
                    <div class="type-icon">üö®</div>
                    <div class="type-title">Emergency Contact</div>
                    <div class="type-description">Emergency access only. For trusted contacts in medical emergencies.</div>
                </div>
            </div>
            
            <div class="form-navigation">
                <a href="family-profiles.html" class="btn btn-secondary">Cancel</a>
                <button class="btn btn-disabled" id="step1-next" onclick="nextStep()" disabled>Continue ‚Üí</button>
            </div>
        </div>
        
        <!-- Step 2: Basic Information -->
        <div id="step-2" class="form-section">
            <div class="step-indicator">
                <div class="step completed">1</div>
                <div class="step active">2</div>
                <div class="step">3</div>
            </div>
            
            <div class="section-title" id="step2-title">Basic Information - Child</div>
            
            <div class="form-row full">
                <div class="form-group">
                    <label for="member-name">Full Name</label>
                    <input type="text" id="member-name" placeholder="Full name">
                </div>
            </div>
            
            <div class="form-row" id="age-group">
                <div class="form-group">
                    <label for="member-age">Age (years)</label>
                    <input type="number" id="member-age" placeholder="e.g., 8" min="0" max="120">
                </div>
                <div class="form-group">
                    <label for="member-dob">Date of Birth</label>
                    <input type="date" id="member-dob">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="member-height">Height (cm)</label>
                    <input type="number" id="member-height" placeholder="e.g., 130" min="50" max="250">
                </div>
                <div class="form-group">
                    <label for="member-weight">Current Weight (kg)</label>
                    <input type="number" id="member-weight" placeholder="e.g., 28" min="5" max="300">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="member-gender">Gender</label>
                    <select id="member-gender">
                        <option value="">Select Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group" id="goal-group">
                    <label for="member-goal">Primary Nutrition Goal</label>
                    <select id="member-goal">
                        <option value="">Select Goal</option>
                        <option value="growth">Healthy Growth (Child)</option>
                        <option value="maintenance">Healthy Maintenance</option>
                        <option value="weight-loss">Weight Loss</option>
                        <option value="weight-gain">Weight Gain</option>
                    </select>
                </div>
            </div>
            
            <div class="form-navigation">
                <button class="btn btn-secondary" onclick="previousStep()">‚Üê Back</button>
                <button class="btn" onclick="nextStep()">Continue ‚Üí</button>
            </div>
        </div>
        
        <!-- Step 3: Medical Information -->
        <div id="step-3" class="form-section">
            <div class="step-indicator">
                <div class="step completed">1</div>
                <div class="step completed">2</div>
                <div class="step active">3</div>
            </div>
            
            <div class="section-title">Health & Medical Information</div>
            
            <div class="medical-section">
                <h3>üè• Physiological Conditions</h3>
                <div class="checkbox-group" id="conditions-group">
                    <div class="checkbox-item">
                        <input type="checkbox" value="Diabetes">
                        <label>Diabetes</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" value="Hypertension">
                        <label>Hypertension</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" value="Asthma">
                        <label>Asthma</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" value="Lactose Intolerance">
                        <label>Lactose Intolerance</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" value="Celiac/Gluten">
                        <label>Celiac/Gluten Sensitivity</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" value="Anemia">
                        <label>Anemia</label>
                    </div>
                </div>
            </div>
            
            <div class="form-row full">
                <div class="form-group">
                    <label for="allergies">Food Allergies & Intolerances (Details)</label>
                    <textarea id="allergies" rows="3" placeholder="e.g., Peanut (severe), Shellfish (mild)"></textarea>
                </div>
            </div>
            
            <div class="medical-section">
                <h3>üíä Supplements & Medications</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="supplement-name">Supplement/Medication Name</label>
                        <input type="text" id="supplement-name" placeholder="e.g., Vitamin D, Iron">
                    </div>
                    <div class="form-group">
                        <label for="supplement-dosage">Dosage</label>
                        <input type="text" id="supplement-dosage" placeholder="e.g., 1000 IU daily">
                    </div>
                </div>
                <button class="btn" onclick="addSupplement()" style="margin-bottom: 15px;">+ Add Supplement</button>
                <div id="supplement-list"></div>
            </div>
            
            <div class="form-navigation">
                <button class="btn btn-secondary" onclick="previousStep()">‚Üê Back</button>
                <button class="btn" onclick="completeProfile()">‚úì Create Profile</button>
            </div>
        </div>
    </div>
    
    <script>
        let currentStep = 1;
        let selectedProfileType = null;
        let supplements = [];
        
        function selectProfileType(type, element) {
            selectedProfileType = type;
            document.querySelectorAll('.profile-type-card').forEach(card => card.classList.remove('selected'));
            element.classList.add('selected');
            document.getElementById('step1-next').disabled = false;
            document.getElementById('step1-next').classList.remove('btn-disabled');
        }
        
        function nextStep() {
            if (currentStep === 1) {
                if (!selectedProfileType) {
                    alert('Please select a profile type');
                    return;
                }
                updateStep2Content();
                currentStep = 2;
            } else if (currentStep === 2) {
                currentStep = 3;
            }
            updateFormDisplay();
        }
        
        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                updateFormDisplay();
            }
        }
        
        function updateStep2Content() {
            const step2Title = document.getElementById('step2-title');
            if (selectedProfileType === 'child') {
                step2Title.textContent = 'Basic Information - Child';
            } else if (selectedProfileType === 'elderly') {
                step2Title.textContent = 'Basic Information - Elderly Parent';
            } else if (selectedProfileType === 'emergency') {
                step2Title.textContent = 'Emergency Contact Information';
            }
        }
        
        function updateFormDisplay() {
            for (let i = 1; i <= 3; i++) {
                document.getElementById(`step-${i}`).classList.remove('active');
            }
            document.getElementById(`step-${currentStep}`).classList.add('active');
            window.scrollTo(0, 0);
        }
        
        function addSupplement() {
            const name = document.getElementById('supplement-name').value;
            const dosage = document.getElementById('supplement-dosage').value;
            if (!name || !dosage) {
                alert('Please enter supplement name and dosage');
                return;
            }
            supplements.push({ name, dosage });
            document.getElementById('supplement-name').value = '';
            document.getElementById('supplement-dosage').value = '';
            renderSupplements();
        }
        
        function renderSupplements() {
            const list = document.getElementById('supplement-list');
            if (supplements.length === 0) {
                list.innerHTML = '';
                return;
            }
            list.innerHTML = `<div style="background: #FEF8F0; padding: 15px; border-radius: 6px;">` + supplements.map((s, i) => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #E8DCC8;">
                    <div>
                        <strong style="color: #4A3F35;">${s.name}</strong>
                        <div style="color: #9B8B7E; font-size: 12px;">${s.dosage}</div>
                    </div>
                    <button onclick="removeSupplement(${i})" style="background: #A0522D; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 11px;">Remove</button>
                </div>
            `).join('') + `</div>`;
        }
        
        function removeSupplement(index) {
            supplements.splice(index, 1);
            renderSupplements();
        }
        
        function completeProfile() {
            alert('‚úì Profile created successfully!');
            window.location.href = 'family-profiles.html';
        }
    </script>
</body>
</html>