<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Profile - UOPO</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #FEF8F0; min-height: 100vh; padding: 20px; }
        nav { background: white; padding: 15px 30px; margin-bottom: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(139, 111, 71, 0.08); display: flex; justify-content: space-between; align-items: center; }
        nav .logo { font-size: 24px; font-weight: bold; color: #D4A574; }
        nav a { margin-left: 20px; text-decoration: none; color: #4A3F35; font-size: 14px; }
        nav a:hover { color: #D4A574; }
        .container { max-width: 1000px; margin: 40px auto; }
        .page-header { background: linear-gradient(135deg, #D4A574 0%, #8B6F47 100%); color: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; text-align: center; }
        .page-header h1 { font-size: 32px; margin-bottom: 10px; }
        .step-indicator { display: flex; justify-content: center; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; }
        .step { width: 40px; height: 40px; border-radius: 50%; background: #E8DCC8; display: flex; align-items: center; justify-content: center; font-weight: 600; color: #9B8B7E; }
        .step.active { background: #D4A574; color: white; }
        .step.completed { background: #8B6F47; color: white; }
        .form-section { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 2px 10px rgba(139, 111, 71, 0.08); margin-bottom: 30px; display: none; }
        .form-section.active { display: block; }
        .section-title { color: #4A3F35; font-size: 20px; font-weight: 600; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 2px solid #E8DCC8; }
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .edit-btn { background: #D4A574; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 12px; font-weight: 600; }
        .edit-btn:hover { background: #8B6F47; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .form-row.full { grid-template-columns: 1fr; }
        .form-group { display: flex; flex-direction: column; }
        label { margin-bottom: 8px; color: #4A3F35; font-weight: 600; font-size: 14px; }
        input, select, textarea { padding: 12px; border: 1px solid #D4A574; border-radius: 6px; font-size: 14px; font-family: inherit; }
        input:focus, select:focus, textarea:focus { outline: none; border-color: #8B6F47; box-shadow: 0 0 0 3px rgba(212, 165, 116, 0.1); }
        input:disabled, select:disabled { background: #F8F9FA; color: #9B8B7E; cursor: not-allowed; }
        .checkbox-group { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 15px; }
        .checkbox-item { display: flex; align-items: center; }
        .checkbox-item input[type="checkbox"] { width: 18px; height: 18px; margin-right: 10px; cursor: pointer; }
        .checkbox-item label { margin: 0; cursor: pointer; font-weight: normal; }
        .special-section { background: #FEF8F0; padding: 20px; border-radius: 8px; border-left: 4px solid #D4A574; margin-bottom: 20px; }
        .special-section h3 { color: #8B6F47; margin-bottom: 15px; font-size: 16px; }
        .condition-details { display: none; margin-top: 15px; padding: 15px; background: white; border-radius: 6px; }
        .condition-details.show { display: block; }
        .emergency-section { background: #F5E6D3; padding: 20px; border-radius: 8px; border-left: 4px solid #D4A574; margin-bottom: 20px; }
        .contact-list { margin-bottom: 15px; }
        .contact-item { display: flex; justify-content: space-between; align-items: center; padding: 12px; background: white; border-radius: 6px; margin-bottom: 10px; font-size: 13px; }
        .contact-name { font-weight: 600; color: #4A3F35; }
        .contact-relation { color: #9B8B7E; font-size: 12px; }
        .remove-btn { background: #A0522D; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 11px; }
        .form-navigation { display: flex; gap: 15px; justify-content: space-between; margin-top: 30px; }
        .btn { display: inline-block; padding: 12px 25px; background: #D4A574; color: white; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 14px; border: none; cursor: pointer; transition: background 0.3s; }
        .btn:hover { background: #8B6F47; }
        .btn-secondary { background: #9B8B7E; }
        .btn-secondary:hover { background: #6B5D52; }
        .save-success { background: #E8F5E9; color: #2E7D32; padding: 15px; border-radius: 8px; margin-bottom: 15px; display: none; }
        .save-success.show { display: block; }
        .decision-box { background: #ECF7FF; padding: 20px; border-radius: 8px; border: 2px solid #D4A574; margin-bottom: 20px; text-align: center; }
        .decision-box h3 { color: #4A3F35; margin-bottom: 15px; }
        .decision-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        @media (max-width: 768px) { .form-row { grid-template-columns: 1fr; } .checkbox-group { grid-template-columns: 1fr; } .decision-buttons { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <nav>
        <div class="logo">üåæ UOPO</div>
        <div>
            <a href="dashboard.html">Dashboard</a>
            <a href="index.html">Home</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="page-header">
            <h1>üë§ Complete Your Profile</h1>
            <p>Set up your complete nutrition profile with health information</p>
        </div>
        
        <!-- Step 1: Basic Information -->
        <div id="step-1" class="form-section active">
            <div class="step-indicator">
                <div class="step active">1</div>
                <div class="step">2</div>
                <div class="step">3</div>
                <div class="step">4</div>
            </div>
            
            <div class="section-header">
                <h2 class="section-title">Basic Information</h2>
                <button class="edit-btn" onclick="toggleEdit('basic', this)">Edit</button>
            </div>
            
            <div class="save-success" id="save-basic"></div>
            
            <div class="form-row full">
                <div class="form-group">
                    <label for="full-name">Full Name</label>
                    <input type="text" id="full-name" placeholder="Your full name" disabled>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="age">Age (years)</label>
                    <input type="number" id="age" placeholder="e.g., 28" min="0" max="120" disabled>
                </div>
                <div class="form-group">
                    <label for="dob">Date of Birth</label>
                    <input type="date" id="dob" disabled>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="height">Height (cm)</label>
                    <input type="number" id="height" placeholder="e.g., 165" min="50" max="250" disabled>
                </div>
                <div class="form-group">
                    <label for="weight">Current Weight (kg)</label>
                    <input type="number" id="weight" placeholder="e.g., 62" min="5" max="300" disabled>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select id="gender" disabled>
                        <option value="">Select Gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="nutrition-goal">Primary Nutrition Goal</label>
                    <select id="nutrition-goal" disabled>
                        <option value="">Select Goal</option>
                        <option value="weight-loss">Weight Loss</option>
                        <option value="weight-gain">Weight Gain</option>
                        <option value="maintenance">Healthy Maintenance</option>
                        <option value="muscle-gain">Muscle Gain</option>
                    </select>
                </div>
            </div>
            
            <div id="save-buttons-basic" style="display: none; margin-top: 20px;">
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="cancelEdit('basic')">Cancel</button>
                    <button class="btn" onclick="saveSection('basic')">Save Changes</button>
                </div>
            </div>
            
            <div class="form-navigation" style="margin-top: 20px;">
                <button class="btn btn-secondary" onclick="goToDashboard()">‚Üê Dashboard</button>
                <button class="btn" onclick="nextStep()">Continue ‚Üí</button>
            </div>
        </div>
        
        <!-- Step 2: Special Conditions (Pregnancy/Lactation) -->
        <div id="step-2" class="form-section">
            <div class="step-indicator">
                <div class="step completed">1</div>
                <div class="step active">2</div>
                <div class="step">3</div>
                <div class="step">4</div>
            </div>
            
            <div class="section-header">
                <h2 class="section-title">Special Conditions</h2>
                <button class="edit-btn" onclick="toggleEdit('conditions', this)">Edit</button>
            </div>
            
            <div class="save-success" id="save-conditions"></div>
            
            <div class="special-section">
                <label>
                    <input type="checkbox" id="pregnant" onchange="toggleConditionDetails('pregnant-details')" disabled>
                    <strong>Currently Pregnant</strong>
                </label>
                <div class="condition-details" id="pregnant-details">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="trimester">Trimester</label>
                            <select id="trimester" disabled>
                                <option value="">Select Trimester</option>
                                <option value="first">First (0-3 months)</option>
                                <option value="second">Second (4-6 months)</option>
                                <option value="third">Third (7-9 months)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="expected-due">Expected Due Date</label>
                            <input type="date" id="expected-due" disabled>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="special-section">
                <label>
                    <input type="checkbox" id="lactating" onchange="toggleConditionDetails('lactating-details')" disabled>
                    <strong>Currently Lactating</strong>
                </label>
                <div class="condition-details" id="lactating-details">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="lactating-months">How many months of lactation?</label>
                            <input type="number" id="lactating-months" placeholder="e.g., 3" min="0" max="36" disabled>
                        </div>
                        <div class="form-group">
                            <label for="feeding-type">Feeding Type</label>
                            <select id="feeding-type" disabled>
                                <option value="">Select Type</option>
                                <option value="exclusive">Exclusive Breastfeeding</option>
                                <option value="partial">Partial (Mixed Feeding)</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="save-buttons-conditions" style="display: none; margin-top: 20px;">
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="cancelEdit('conditions')">Cancel</button>
                    <button class="btn" onclick="saveSection('conditions')">Save Changes</button>
                </div>
            </div>
            
            <div class="form-navigation">
                <button class="btn btn-secondary" onclick="previousStep()">‚Üê Back</button>
                <button class="btn" onclick="nextStep()">Continue ‚Üí</button>
            </div>
        </div>
        
        <!-- Step 3: Medical Information -->
        <div id="step-3" class="form-section">
            <div class="step-indicator">
                <div class="step completed">1</div>
                <div class="step completed">2</div>
                <div class="step active">3</div>
                <div class="step">4</div>
            </div>
            
            <div class="section-header">
                <h2 class="section-title">Health & Medical Information</h2>
                <button class="edit-btn" onclick="toggleEdit('medical', this)">Edit</button>
            </div>
            
            <div class="save-success" id="save-medical"></div>
            
            <div class="special-section">
                <h3>üè• Physiological Conditions</h3>
                <div class="checkbox-group" id="conditions-group">
                    <div class="checkbox-item">
                        <input type="checkbox" value="Diabetes" disabled>
                        <label>Diabetes</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" value="Hypertension" disabled>
                        <label>Hypertension</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" value="Asthma" disabled>
                        <label>Asthma</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" value="Lactose Intolerance" disabled>
                        <label>Lactose Intolerance</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" value="Celiac/Gluten" disabled>
                        <label>Celiac/Gluten Sensitivity</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" value="Anemia" disabled>
                        <label>Anemia</label>
                    </div>
                </div>
            </div>
            
            <div class="form-row full">
                <div class="form-group">
                    <label for="allergies">Food Allergies & Intolerances (Details)</label>
                    <textarea id="allergies" rows="3" placeholder="e.g., Peanut (severe), Shellfish (mild)" disabled></textarea>
                </div>
            </div>
            
            <div class="special-section">
                <h3>üíä Supplements & Medications</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="supplement-name">Supplement/Medication Name</label>
                        <input type="text" id="supplement-name" placeholder="e.g., Vitamin D, Iron" disabled>
                    </div>
                    <div class="form-group">
                        <label for="supplement-dosage">Dosage</label>
                        <input type="text" id="supplement-dosage" placeholder="e.g., 1000 IU daily" disabled>
                    </div>
                </div>
                <button class="edit-btn" id="add-supplement-btn" onclick="addSupplement()" style="display: none;">+ Add Supplement</button>
                <div id="supplement-list"></div>
            </div>
            
            <div id="save-buttons-medical" style="display: none; margin-top: 20px;">
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="cancelEdit('medical')">Cancel</button>
                    <button class="btn" onclick="saveSection('medical')">Save Changes</button>
                </div>
            </div>
            
            <div class="form-navigation">
                <button class="btn btn-secondary" onclick="previousStep()">‚Üê Back</button>
                <button class="btn" onclick="nextStep()">Continue ‚Üí</button>
            </div>
        </div>
        
        <!-- Step 4: Emergency Contacts -->
        <div id="step-4" class="form-section">
            <div class="step-indicator">
                <div class="step completed">1</div>
                <div class="step completed">2</div>
                <div class="step completed">3</div>
                <div class="step active">4</div>
            </div>
            
            <div class="section-header">
                <h2 class="section-title">Emergency Contacts</h2>
                <button class="edit-btn" onclick="toggleEdit('emergency', this)">Edit</button>
            </div>
            
            <div class="save-success" id="save-emergency"></div>
            
            <div class="emergency-section">
                <h3>üö® Link Emergency Contacts (up to 5)</h3>
                <p style="color: #721c24; font-size: 13px; margin-bottom: 15px;">
                    Link trusted contacts who can access your profile in case of medical emergency.
                </p>
                
                <div class="contact-list" id="contact-list"></div>
                
                <div id="add-contact-form" style="display: none; background: white; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contact-name">Contact Name</label>
                            <input type="text" id="contact-name" placeholder="Full name" disabled>
                        </div>
                        <div class="form-group">
                            <label for="contact-relation">Relationship</label>
                            <select id="contact-relation" disabled>
                                <option value="">Select Relationship</option>
                                <option value="spouse">Spouse</option>
                                <option value="parent">Parent</option>
                                <option value="sibling">Sibling</option>
                                <option value="friend">Friend</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contact-email">Email/Phone</label>
                            <input type="text" id="contact-email" placeholder="Email or phone number" disabled>
                        </div>
                    </div>
                    <button class="btn" onclick="addContact()" style="width: 100%;">Add Contact</button>
                </div>
                
                <button class="btn" id="add-contact-btn" onclick="toggleAddContact()" style="width: 100%; margin-top: 15px;">+ Add Emergency Contact</button>
            </div>
            
            <div id="save-buttons-emergency" style="display: none; margin-top: 20px;">
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="cancelEdit('emergency')">Cancel</button>
                    <button class="btn" onclick="saveSection('emergency')">Save Changes</button>
                </div>
            </div>
            
            <div class="decision-box">
                <h3>You're all set! What would you like to do?</h3>
                <div class="decision-buttons">
                    <button class="btn btn-secondary" onclick="goToDashboard()">Go to Dashboard</button>
                    <button class="btn" onclick="completeProfile()">Complete & View Profile</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let currentStep = 1;
        let emergencyContacts = [];
        let supplements = [];
        
        function nextStep() {
            if (currentStep < 4) {
                currentStep++;
                updateSteps();
            }
        }
        
        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                updateSteps();
            }
        }
        
        function updateSteps() {
            document.querySelectorAll('.form-section').forEach((section, index) => {
                section.classList.remove('active');
                if (index + 1 === currentStep) {
                    section.classList.add('active');
                }
            });
            window.scrollTo(0, 0);
        }
        
        function toggleEdit(section, button) {
            const stepNum = ['basic', 'conditions', 'medical', 'emergency'].indexOf(section) + 1;
            const inputs = document.querySelectorAll(`#step-${stepNum} input, #step-${stepNum} select, #step-${stepNum} textarea`);
            const saveButtons = document.getElementById(`save-buttons-${section}`);
            
            inputs.forEach(input => {
                input.disabled = !input.disabled;
            });
            
            if (saveButtons) {
                saveButtons.style.display = saveButtons.style.display === 'none' ? 'block' : 'none';
            }
            
            button.textContent = button.textContent === 'Edit' ? 'Cancel Edit' : 'Edit';
        }
        
        function cancelEdit(section) {
            const button = event.target.parentElement.parentElement.parentElement.querySelector('.edit-btn');
            toggleEdit(section, button);
        }
        
        function saveSection(section) {
            const successBox = document.getElementById(`save-${section}`);
            successBox.textContent = `‚úì ${section.charAt(0).toUpperCase() + section.slice(1)} information saved successfully!`;
            successBox.classList.add('show');
            
            setTimeout(() => {
                successBox.classList.remove('show');
            }, 3000);
            
            const stepNum = ['basic', 'conditions', 'medical', 'emergency'].indexOf(section) + 1;
            const button = document.querySelector(`#step-${stepNum} .edit-btn`);
            toggleEdit(section, button);
        }
        
        function toggleConditionDetails(detailsId) {
            const details = document.getElementById(detailsId);
            details.classList.toggle('show');
        }
        
        function toggleAddContact() {
            const form = document.getElementById('add-contact-form');
            const btn = document.getElementById('add-contact-btn');
            
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
            btn.textContent = form.style.display === 'none' ? '+ Add Emergency Contact' : '- Cancel';
        }
        
        function addContact() {
            if (emergencyContacts.length >= 5) {
                alert('You can only add up to 5 emergency contacts');
                return;
            }
            
            const name = document.getElementById('contact-name').value;
            const relation = document.getElementById('contact-relation').value;
            const email = document.getElementById('contact-email').value;
            
            if (!name || !relation || !email) {
                alert('Please fill all contact details');
                return;
            }
            
            emergencyContacts.push({ name, relation, email });
            renderContacts();
            
            document.getElementById('contact-name').value = '';
            document.getElementById('contact-relation').value = '';
            document.getElementById('contact-email').value = '';
            toggleAddContact();
        }
        
        function removeContact(index) {
            emergencyContacts.splice(index, 1);
            renderContacts();
        }
        
        function renderContacts() {
            const list = document.getElementById('contact-list');
            list.innerHTML = emergencyContacts.map((c, i) => `
                <div class="contact-item">
                    <div class="contact-item-info">
                        <div class="contact-name">${c.name}</div>
                        <div class="contact-relation">${c.relation} ‚Ä¢ ${c.email}</div>
                    </div>
                    <button class="remove-btn" onclick="removeContact(${i})">Remove</button>
                </div>
            `).join('');
        }
        
        function goToDashboard() {
            window.location.href = 'dashboard.html';
        }
        
        function completeProfile() {
            alert('‚úì Your complete profile has been set up!');
            window.location.href = 'dashboard.html';
        }
    </script>
</body>
</html>