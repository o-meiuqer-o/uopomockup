<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Profile - UOPO</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #FEF8F0; min-height: 100vh; padding: 20px; }
        nav { background: white; padding: 15px 30px; margin-bottom: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(139, 111, 71, 0.08); display: flex; justify-content: space-between; align-items: center; }
        nav .logo { font-size: 24px; font-weight: bold; color: #D4A574; }
        nav a { margin-left: 20px; text-decoration: none; color: #4A3F35; font-size: 14px; }
        nav a:hover { color: #D4A574; }
        .container { max-width: 1000px; margin: 40px auto; }
        .page-header { background: linear-gradient(135deg, #D4A574 0%, #8B6F47 100%); color: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; text-align: center; }
        .page-header h1 { font-size: 32px; margin-bottom: 10px; }
        .step-indicator { display: flex; justify-content: center; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; }
        .step { width: 40px; height: 40px; border-radius: 50%; background: #E8DCC8; display: flex; align-items: center; justify-content: center; font-weight: 600; color: #9B8B7E; }
        .step.active { background: #D4A574; color: white; }
        .step.completed { background: #8B6F47; color: white; }
        .form-section { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 2px 10px rgba(139, 111, 71, 0.08); margin-bottom: 30px; display: none; }
        .form-section.active { display: block; }
        .section-title { color: #4A3F35; font-size: 20px; font-weight: 600; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 2px solid #E8DCC8; }
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .edit-btn { background: #D4A574; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 12px; font-weight: 600; }
        .edit-btn:hover { background: #8B6F47; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .form-row.full { grid-template-columns: 1fr; }
        .form-group { display: flex; flex-direction: column; }
        label { margin-bottom: 8px; color: #4A3F35; font-weight: 600; font-size: 14px; }
        input, select, textarea { padding: 12px; border: 1px solid #D4A574; border-radius: 6px; font-size: 14px; font-family: inherit; }
        input:focus, select:focus, textarea:focus { outline: none; border-color: #8B6F47; box-shadow: 0 0 0 3px rgba(212, 165, 116, 0.12); }
        input:disabled, select:disabled { background: #F8F9FA; color: #9B8B7E; cursor: not-allowed; }
        .checkbox-group { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 15px; }
        .checkbox-item { display: flex; align-items: center; }
        .checkbox-item input[type="checkbox"] { width: 18px; height: 18px; margin-right: 10px; cursor: pointer; }
        .checkbox-item label { margin: 0; cursor: pointer; font-weight: normal; }
        .special-section { background: #FEF8F0; padding: 20px; border-radius: 8px; border-left: 4px solid #D4A574; margin-bottom: 20px; }
        .special-section h3 { color: #8B6F47; margin-bottom: 15px; font-size: 16px; }
        .condition-details { display: none; margin-top: 15px; padding: 15px; background: white; border-radius: 6px; }
        .condition-details.show { display: block; }
        .emergency-section { background: #F5E6D3; padding: 20px; border-radius: 8px; border-left: 4px solid #D4A574; margin-bottom: 20px; }
        .contact-list { margin-bottom: 15px; }
        .contact-item { display: flex; justify-content: space-between; align-items: center; padding: 12px; background: white; border-radius: 6px; margin-bottom: 10px; font-size: 13px; }
        .contact-name { font-weight: 600; color: #4A3F35; }
        .contact-relation { color: #9B8B7E; font-size: 12px; }
        .remove-btn { background: #A0522D; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 11px; }
        .form-navigation { display: flex; gap: 15px; justify-content: space-between; margin-top: 30px; }
        .btn { display: inline-block; padding: 12px 25px; background: #D4A574; color: white; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 14px; border: none; cursor: pointer; transition: background 0.3s; }
        .btn:hover { background: #8B6F47; }
        .btn-secondary { background: #9B8B7E; }
        .btn-secondary:hover { background: #6B5D52; }
        .save-success { background: #E8F5E9; color: #2E7D32; padding: 15px; border-radius: 8px; margin-bottom: 15px; display: none; }
        .save-success.show { display: block; }
        .mini-toast { display:none; position:fixed; bottom:28px; left:50%; transform:translateX(-50%); background:#2E7D32; color:white; padding:12px 18px; font-weight:600; border-radius:28px; box-shadow:0 3px 16px #a6e7b3; z-index:9999;}
        .mini-toast.show { display:block; animation:fadeToast 1.9s; }
        @keyframes fadeToast { 60%{ opacity:1;} 95%{opacity:1;} 100%{opacity:0;} }
        .decision-box { background: #ECF7FF; padding: 20px; border-radius: 8px; border: 2px solid #D4A574; margin-bottom: 20px; text-align: center; }
        .decision-box h3 { color: #4A3F35; margin-bottom: 15px; }
        .decision-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        @media (max-width: 768px) { .form-row { grid-template-columns: 1fr; } .checkbox-group { grid-template-columns: 1fr; } .decision-buttons { grid-template-columns: 1fr; } }
    </style>
</head>
<body><nav>     <span class="logo">üåæ UOPO</span>     <button class="hamburger" onclick="openMenu()">‚ò∞</button> </nav> <div class="menu-backdrop" onclick="closeMenu()" id="menuBackdrop"></div> <div class="menu-drawer" id="menuDrawer">     <a href="dashboard.html">üè† Dashboard</a>     <a href="log-meal.html">üçõ Log Meal</a>     <a href="detailed-meal-log.html">üìú Meal Log</a>     <a href="diet-tracker.html">üìä Diet Tracker</a>     <a href="family-profiles.html">üë™ Family</a>     <a href="add-family-member.html">‚ûï Add Member</a>     <a href="complete-profile.html">üë§ Profile Setup</a>     <a href="detailed-stats.html">üìà Detailed Stats</a>     <a href="plan-my-meal.html">üßë‚Äçüç≥ Plan My Meal</a>     <a href="index.html">üè° Home</a>     <a href="signin.html">üö™ Sign Out</a> </div>
<nav>
    <div class="logo">üåæ UOPO</div>
    <div>
        <a href="dashboard.html">Dashboard</a>
        <a href="index.html">Home</a>
    </div>
</nav>
<div class="container">
    <div class="page-header">
        <h1>üë§ Complete Your Profile</h1>
        <p>Set up your complete nutrition profile with health information</p>
    </div>
    <!-- Step Indicator/Sections (Steps 1‚Äì4) omitted here for brevity -> SEE FULL NEXT MESSAGE -->
</div>
<div class="mini-toast" id="toastDone">‚úì Profile completed! You may now view profile or dashboard.</div>
<script>
let currentStep = 1;
let emergencyContacts = [];
let supplements = [];
function updateSteps() {
    document.querySelectorAll('.form-section').forEach((section, index) => {
        section.classList.remove('active');
        if (index + 1 === currentStep) {
            section.classList.add('active');
        }
    });
    window.scrollTo(0, 0);
}
// ... JS logic for form navigation, edit/save/cancel, validation ... to continue in next message ...
</script>
<script> function openMenu() {     document.getElementById("menuDrawer").classList.add("open");     document.getElementById("menuBackdrop").classList.add("show"); } function closeMenu() {     document.getElementById("menuDrawer").classList.remove("open");     document.getElementById("menuBackdrop").classList.remove("show"); } </script></body>
</html>
<!-- Step 1: Basic Information with Indian default names -->
<div id="step-1" class="form-section active">
    <div class="step-indicator">
        <div class="step active">1</div>
        <div class="step">2</div>
        <div class="step">3</div>
        <div class="step">4</div>
    </div>
    <div class="section-header">
        <h2 class="section-title">Basic Information</h2>
        <button class="edit-btn" onclick="toggleEdit('basic', this)">Edit</button>
    </div>
    <div class="save-success" id="save-basic"></div>
    <div class="form-row full">
        <div class="form-group">
            <label for="full-name">Full Name</label>
            <input type="text" id="full-name" placeholder="e.g. Rahul Sharma" value="Rahul Sharma" disabled>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group">
            <label for="age">Age (years)</label>
            <input type="number" id="age" placeholder="e.g., 28" min="0" max="120" value="32" disabled>
        </div>
        <div class="form-group">
            <label for="dob">Date of Birth</label>
            <input type="date" id="dob" disabled>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group">
            <label for="height">Height (cm)</label>
            <input type="number" id="height" placeholder="e.g., 172" min="50" max="250" value="172" disabled>
        </div>
        <div class="form-group">
            <label for="weight">Current Weight (kg)</label>
            <input type="number" id="weight" placeholder="e.g., 68" min="5" max="300" value="68" disabled>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group">
            <label for="gender">Gender</label>
            <select id="gender" disabled>
                <option value="">Select Gender</option>
                <option value="male" selected>Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select>
        </div>
        <div class="form-group">
            <label for="nutrition-goal">Primary Nutrition Goal</label>
            <select id="nutrition-goal" disabled>
                <option value="">Select Goal</option>
                <option value="weight-loss" selected>Weight Loss</option>
                <option value="weight-gain">Weight Gain</option>
                <option value="maintenance">Healthy Maintenance</option>
                <option value="muscle-gain">Muscle Gain</option>
            </select>
        </div>
    </div>
    <div id="save-buttons-basic" style="display: none; margin-top: 20px;">
        <div class="form-navigation">
            <button class="btn btn-secondary" onclick="cancelEdit('basic')">Cancel</button>
            <button class="btn" onclick="saveSection('basic')">Save Changes</button>
        </div>
    </div>
    <div class="form-navigation" style="margin-top: 20px;">
        <button class="btn btn-secondary" onclick="goToDashboard()">‚Üê Dashboard</button>
        <button class="btn" onclick="nextStep()">Continue ‚Üí</button>
    </div>
</div>

<!-- Step 2: Special Conditions (Pregnancy/Lactation, for eligible profiles only) -->
<div id="step-2" class="form-section">
    <div class="step-indicator">
        <div class="step completed">1</div>
        <div class="step active">2</div>
        <div class="step">3</div>
        <div class="step">4</div>
    </div>
    <div class="section-header">
        <h2 class="section-title">Special Conditions</h2>
        <button class="edit-btn" onclick="toggleEdit('conditions', this)">Edit</button>
    </div>
    <div class="save-success" id="save-conditions"></div>
    <div class="special-section" id="preg-n-lac-section" style="display:none;">
        <label>
            <input type="checkbox" id="pregnant" onchange="toggleConditionDetails('pregnant-details')" disabled>
            <strong>Currently Pregnant</strong>
        </label>
        <div class="condition-details" id="pregnant-details">
            <div class="form-row">
                <div class="form-group">
                    <label for="trimester">Trimester</label>
                    <select id="trimester" disabled>
                        <option value="">Select Trimester</option>
                        <option value="first">First (0-3 months)</option>
                        <option value="second">Second (4-6 months)</option>
                        <option value="third">Third (7-9 months)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="expected-due">Expected Due Date</label>
                    <input type="date" id="expected-due" disabled>
                </div>
            </div>
        </div>
    </div>
    <div class="special-section" id="lactating-section" style="display:none;">
        <label>
            <input type="checkbox" id="lactating" onchange="toggleConditionDetails('lactating-details')" disabled>
            <strong>Currently Lactating</strong>
        </label>
        <div class="condition-details" id="lactating-details">
            <div class="form-row">
                <div class="form-group">
                    <label for="lactating-months">How many months of lactation?</label>
                    <input type="number" id="lactating-months" placeholder="e.g., 3" min="0" max="36" disabled>
                </div>
                <div class="form-group">
                    <label for="feeding-type">Feeding Type</label>
                    <select id="feeding-type" disabled>
                        <option value="">Select Type</option>
                        <option value="exclusive">Exclusive Breastfeeding</option>
                        <option value="partial">Partial (Mixed Feeding)</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div id="save-buttons-conditions" style="display: none; margin-top: 20px;">
        <div class="form-navigation">
            <button class="btn btn-secondary" onclick="cancelEdit('conditions')">Cancel</button>
            <button class="btn" onclick="saveSection('conditions')">Save Changes</button>
        </div>
    </div>
    <div class="form-navigation">
        <button class="btn btn-secondary" onclick="previousStep()">‚Üê Back</button>
        <button class="btn" onclick="nextStep()">Continue ‚Üí</button>
    </div>
</div>

<!-- Step 3: Health & Medical -->
<div id="step-3" class="form-section">
    <div class="step-indicator">
        <div class="step completed">1</div>
        <div class="step completed">2</div>
        <div class="step active">3</div>
        <div class="step">4</div>
    </div>
    <div class="section-header">
        <h2 class="section-title">Health & Medical Information</h2>
        <button class="edit-btn" onclick="toggleEdit('medical', this)">Edit</button>
    </div>
    <div class="save-success" id="save-medical"></div>
    <div class="special-section">
        <h3>üè• Physiological Conditions</h3>
        <div class="checkbox-group" id="conditions-group">
            <div class="checkbox-item"><input type="checkbox" value="Diabetes" disabled><label>Diabetes</label></div>
            <div class="checkbox-item"><input type="checkbox" value="Hypertension" disabled><label>Hypertension</label></div>
            <div class="checkbox-item"><input type="checkbox" value="Asthma" disabled><label>Asthma</label></div>
            <div class="checkbox-item"><input type="checkbox" value="Lactose Intolerance" disabled><label>Lactose Intolerance</label></div>
            <div class="checkbox-item"><input type="checkbox" value="Celiac/Gluten" disabled><label>Celiac/Gluten Sensitivity</label></div>
            <div class="checkbox-item"><input type="checkbox" value="Anemia" disabled><label>Anemia</label></div>
        </div>
        <div class="form-group">
            <label for="other-condition">Other Condition (if not listed)</label>
            <input type="text" id="other-condition" placeholder="e.g., Hypothyroidism" disabled>
        </div>
    </div>
    <div class="form-row full">
        <div class="form-group">
            <label for="allergies">Food Allergies & Intolerances (Details)</label>
            <textarea id="allergies" rows="3" placeholder="e.g., Peanut (severe), Shellfish (mild)" disabled></textarea>
        </div>
    </div>
    <div id="save-buttons-medical" style="display: none; margin-top: 20px;">
        <div class="form-navigation">
            <button class="btn btn-secondary" onclick="cancelEdit('medical')">Cancel</button>
            <button class="btn" onclick="saveSection('medical')">Save Changes</button>
        </div>
    </div>
    <div class="form-navigation">
        <button class="btn btn-secondary" onclick="previousStep()">‚Üê Back</button>
        <button class="btn" onclick="nextStep()">Continue ‚Üí</button>
    </div>
</div>

<!-- Step 4: Emergency Contacts -->
<div id="step-4" class="form-section">
    <div class="step-indicator">
        <div class="step completed">1</div>
        <div class="step completed">2</div>
        <div class="step completed">3</div>
        <div class="step active">4</div>
    </div>
    <div class="section-header">
        <h2 class="section-title">Emergency Contacts</h2>
        <button class="edit-btn" onclick="toggleEdit('emergency', this)">Edit</button>
    </div>
    <div class="save-success" id="save-emergency"></div>
    <div class="emergency-section">
        <h3>üö® Link Emergency Contacts (up to 5)</h3>
        <p style="color: #721c24; font-size: 13px; margin-bottom: 15px;">
            Link trusted contacts who can access your profile in case of medical emergency.
        </p>
        <div class="contact-list" id="contact-list"></div>
        <div id="add-contact-form" style="display: none; background: white; padding: 15px; border-radius: 6px; margin-bottom: 15px;">
            <div class="form-row">
                <div class="form-group">
                    <label for="contact-name">Contact Name</label>
                    <input type="text" id="contact-name" placeholder="Full name" disabled>
                </div>
                <div class="form-group">
                    <label for="contact-relation">Relationship</label>
                    <select id="contact-relation" disabled>
                        <option value="">Select Relationship</option>
                        <option value="spouse">Spouse</option>
                        <option value="parent">Parent</option>
                        <option value="child">Child</option>
                        <option value="sibling">Sibling</option>
                        <option value="friend">Friend</option>
                        <option value="other">Other</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="contact-email">Email/Phone</label>
                    <input type="text" id="contact-email" placeholder="Email or phone number" disabled>
                </div>
            </div>
            <button class="btn" onclick="addContact()" style="width: 100%;">Add Contact</button>
            <button class="btn btn-secondary" style="width:100%;" onclick="showProfileLinkModal()">Link to an Existing UOPO Profile</button>
        </div>
        <button class="btn" id="add-contact-btn" onclick="toggleAddContact()" style="width: 100%; margin-top: 15px;">+ Add Emergency Contact</button>
    </div>
    <div id="save-buttons-emergency" style="display: none; margin-top: 20px;">
        <div class="form-navigation">
            <button class="btn btn-secondary" onclick="cancelEdit('emergency')">Cancel</button>
            <button class="btn" onclick="saveSection('emergency')">Save Changes</button>
        </div>
    </div>
    <!-- The modal for linking profiles can be included or loaded as emergency-contact-dialog.html -->
    <div id="linkProfileModal" style="display:none; position:fixed; z-index:1002; top:0; left:0; width:100vw; height:100vh; background-color:rgba(0,0,0,0.13);">
        <div style="background:white;max-width:360px;margin:100px auto 0 auto;padding:28px 18px; border-radius:14px;box-shadow:0 12px 26px #9d8b74;">
            <h3 style="color:#8B6F47;margin-bottom:18px;">Link Existing UOPO Profile</h3>
            <div class="form-group">
                <label>Select profile</label>
                <select id="profile-link-select">
                    <option value="">Select...</option>
                    <option value="priya.sharma">Priya Sharma (Spouse)</option>
                    <option value="aarav.sharma">Aarav Sharma (Child)</option>
                    <option value="shanta.devi">Shanta Devi (Parent)</option>
                </select>
            </div>
            <div class="form-group">
                <label>Relationship</label>
                <select id="profile-link-relationship">
                    <option value="">Select...</option>
                    <option value="spouse">Spouse</option>
                    <option value="parent">Parent</option>
                    <option value="child">Child</option>
                    <option value="sibling">Sibling</option>
                    <option value="friend">Friend</option>
                    <option value="other">Other</option>
                </select>
            </div>
            <button class="btn" style="width:100%;" onclick="linkProfileContact()">Link</button>
            <button class="btn btn-secondary" style="width:100%;margin-top:7px;" onclick="hideProfileLinkModal()">Cancel</button>
        </div>
    </div>
    <div class="decision-box" style="margin-top:12px;">
        <h3>You're all set! What would you like to do?</h3>
        <div class="decision-buttons">
            <button class="btn btn-secondary" onclick="goToDashboard()">Go to Dashboard</button>
            <button class="btn" onclick="completeProfile()">Complete & View Profile</button>
        </div>
    </div>
</div>
